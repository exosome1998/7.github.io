<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Force Calculation - Interactive Physics Lesson</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/white.min.css">
    <style>
        .reveal {
            font-size: 24px;
        }
        .reveal h1 { 
            font-size: 1.8em; 
            color: #2c3e50;
            margin-bottom: 20px;
        }
        .reveal h2 { 
            font-size: 1.5em; 
            color: #34495e;
            margin-bottom: 20px;
        }
        .reveal h3 { 
            font-size: 1.2em; 
            color: #34495e;
            margin-bottom: 15px;
        }
        .reveal .slides section {
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
            max-height: 100vh;
        }

        .reveal .slides {
            width: 100%;
            height: 100%;
        }

        .reveal .slides > section {
            width: 100%;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
        }

        .slide-content-wrapper {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px 0;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }

        .content-block {
            margin: 15px 0;
            padding: 10px;
        }

        @media (max-width: 768px) {
            .reveal {
                font-size: 20px;
            }
            .reveal .slides section {
                padding: 15px;
            }
        }

        .do-now-box {
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px auto;
            max-width: 600px;
            font-weight: bold;
        }
        .topic-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 15px;
            margin: 15px auto;
            max-width: 500px;
        }
        .click-reveal {
            background: #f0f4f8;
            border: 2px solid #4a90e2;
            padding: 15px;
            border-radius: 10px;
            margin: 10px auto;
            max-width: 600px;
            cursor: pointer;
            transition: all 0.3s;
            min-height: 60px;
        }
        .click-reveal:hover {
            background: #e1e8ed;
            transform: scale(1.02);
        }
        .click-reveal.revealed {
            background: #e8f5e9;
            border-color: #4caf50;
            cursor: default;
        }
        .definition-box {
            background: #fff9e6;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 15px auto;
            max-width: 600px;
            border-radius: 5px;
            text-align: left;
        }
        .keyword-box {
            background: #f3e5f5;
            border: 2px solid #9c27b0;
            padding: 20px;
            margin: 15px auto;
            max-width: 700px;
            border-radius: 10px;
        }
        .keyword-item {
            background: white;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            text-align: left;
        }
        .keyword-term {
            color: #9c27b0;
            font-weight: bold;
            font-size: 1.1em;
        }
        .question-prompt {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            padding: 15px;
            border-radius: 10px;
            margin: 15px auto;
            max-width: 600px;
            font-weight: bold;
        }
        .answer-choice {
            background: #f5f5f5;
            border: 2px solid #9e9e9e;
            padding: 12px;
            margin: 8px auto;
            max-width: 500px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .answer-choice:hover {
            background: #eeeeee;
            transform: scale(1.02);
        }
        .answer-choice.correct {
            background: #c8e6c9;
            border-color: #4caf50;
        }
        .answer-choice.incorrect {
            background: #ffcdd2;
            border-color: #f44336;
        }
        .step-number {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            z-index: 1000;
        }
        .reveal-text {
            color: #666;
            font-style: italic;
            font-size: 0.9em;
        }
        .transition-box {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 20px auto;
            max-width: 600px;
            font-weight: bold;
        }
        .equation-box {
            background: linear-gradient(135deg, #ffd93d 0%, #6bcf7f 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px auto;
            max-width: 500px;
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .formula-breakdown {
            background: #f8f9fa;
            border: 2px solid #6c757d;
            padding: 15px;
            border-radius: 10px;
            margin: 15px auto;
            max-width: 600px;
            text-align: left;
        }
        .formula-part {
            padding: 8px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
        }
        .calculation-step {
            background: #e8f4f8;
            border-left: 4px solid #2196f3;
            padding: 10px;
            margin: 10px auto;
            max-width: 600px;
            text-align: left;
            font-family: 'Courier New', monospace;
        }
        .practice-problem {
            background: #fff3e0;
            border: 2px solid #ff9800;
            padding: 20px;
            border-radius: 10px;
            margin: 15px auto;
            max-width: 650px;
        }
        .problem-number {
            background: #ff9800;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .connection-arrow {
            font-size: 2em;
            color: #667eea;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .progress-tracker {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 10px;
            margin: 15px auto;
            max-width: 600px;
        }
        .topic-complete {
            background: #4caf50;
            color: white;
            padding: 10px;
            border-radius: 10px;
            font-weight: bold;
            margin: 20px auto;
            max-width: 400px;
        }
        .force-arrow {
            font-size: 3em;
            color: #e74c3c;
            font-weight: bold;
            display: inline-block;
            margin: 10px;
        }
        .unit-highlight {
            background: #ffeb3b;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        /* Image Placeholder Styling */
        .image-placeholder {
            width: 100%;
            max-width: 650px;
            height: 350px;
            border: 2px dashed #ccc;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9f9f9;
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }
        .image-placeholder:hover {
            background: #f0f0f0;
            border-color: #999;
        }
        .image-placeholder.has-image {
            border: none;
            background: transparent;
        }
        .image-placeholder img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
        }
        .placeholder-content {
            text-align: center;
            padding: 20px;
            color: #666;
        }
        .placeholder-icon {
            font-size: 3em;
            display: block;
            margin-bottom: 10px;
            opacity: 0.5;
        }
        .placeholder-text {
            font-size: 1.2em;
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
        }
        .placeholder-hint {
            font-size: 0.9em;
            color: #999;
            display: block;
            font-family: monospace;
        }

        /* Minimized image placeholder */
        .image-placeholder.minimized {
            height: 40px;
            background: #e8f4fd;
            border: 1px solid #b3d9ff;
            cursor: pointer;
            border-radius: 20px;
            margin: 10px auto;
        }

        .image-placeholder.minimized .placeholder-content {
            padding: 8px 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .image-placeholder.minimized .placeholder-icon {
            font-size: 1.2em;
            margin: 0;
        }

        .image-placeholder.minimized .placeholder-text {
            font-size: 0.8em;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px;
        }

        .image-placeholder.minimized .placeholder-hint {
            display: none;
        }

        /* Drag and drop styling */
        .image-placeholder.drag-over {
            border-color: #4CAF50 !important;
            background: #e8f5e9 !important;
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .image-placeholder.minimized.drag-over {
            height: 60px;
            background: #e8f5e9 !important;
            border-color: #4CAF50 !important;
        }

        /* Drag hint overlay */
        .drag-hint-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(76, 175, 80, 0.9);
            color: white;
            display: none;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1em;
            border-radius: 10px;
            z-index: 5;
        }

        /* Image controls */
        .image-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 10;
        }

        .image-placeholder:hover .image-controls,
        .image-placeholder.minimized .image-controls {
            opacity: 1;
        }

        .image-control-btn {
            background: rgba(0,0,0,0.7);
            color: white;
            border: none;
            border-radius: 3px;
            padding: 5px 8px;
            cursor: pointer;
            font-size: 0.8em;
            transition: background 0.3s;
        }

        .image-control-btn:hover {
            background: rgba(0,0,0,0.9);
        }

        /* Upload methods panel */
        .upload-methods {
            position: absolute;
            bottom: 10px;
            left: 10px;
            display: flex;
            gap: 5px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .image-placeholder:hover .upload-methods {
            opacity: 1;
        }

        .upload-method-btn {
            background: #667eea;
            color: white;
            border: none;
            border-radius: 3px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.8em;
        }

        /* Image Management Panel */
        .image-manager {
            position: fixed;
            top: 10px;
            left: 10px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            z-index: 2000;
            max-width: 300px;
            max-height: 80vh;
            overflow-y: auto;
            transform: translateX(-320px);
            transition: transform 0.3s ease;
        }
        .image-manager.open {
            transform: translateX(0);
        }
        .image-manager-toggle {
            position: fixed;
            top: 50px;
            left: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            z-index: 2001;
            font-size: 12px;
        }
        .image-manager h3 {
            margin: 0 0 15px 0;
            color: #667eea;
            font-size: 1.1em;
        }
        .bulk-upload {
            margin-bottom: 15px;
            padding: 10px;
            border: 2px dashed #ccc;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .bulk-upload:hover {
            border-color: #667eea;
            background: #f0f4f8;
        }
        .slide-list {
            max-height: 300px;
            overflow-y: auto;
        }
        .slide-item {
            display: flex;
            align-items: center;
            padding: 5px;
            margin: 3px 0;
            border-radius: 3px;
            font-size: 0.8em;
        }
        .slide-item.has-image {
            background: #e8f5e9;
            border-left: 3px solid #4caf50;
        }
        .slide-item.no-image {
            background: #ffebee;
            border-left: 3px solid #f44336;
        }
        .slide-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .slide-status.has-image {
            background: #4caf50;
        }
        .slide-status.no-image {
            background: #f44336;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8em;
            font-weight: bold;
        }
        .action-buttons {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }
        .action-btn {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8em;
            font-weight: bold;
        }
        .action-btn.export {
            background: #4caf50;
            color: white;
        }
        .action-btn.import {
            background: #2196f3;
            color: white;
        }
        .action-btn.clear {
            background: #f44336;
            color: white;
        }
    </style>
</head>
<body>
    <!-- Image Management Panel -->
    <button class="image-manager-toggle" onclick="toggleImageManager()">
        📷 Images
    </button>

    <div class="image-manager" id="imageManager">
        <h3>📷 Image Manager</h3>

        <div class="bulk-upload" onclick="bulkUpload()">
            <div>📁 Bulk Upload Images</div>
            <small>Click to select multiple images</small>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%">0/25</div>
        </div>

        <div class="slide-list" id="slideList">
            <!-- Will be populated by JavaScript -->
        </div>

        <div class="action-buttons">
            <button class="action-btn export" onclick="exportImages()">💾 Export</button>
            <button class="action-btn import" onclick="importImages()">📂 Import</button>
            <button class="action-btn clear" onclick="clearAllImages()">🗑️ Clear</button>
        </div>
    </div>

    <div class="reveal">
        <div class="slides">
            
            <!-- SLIDE 1: Do Now -->
            <section>
                <div class="do-now-box">
                    <h1>📔 DO NOW</h1>
                    <p>Get ready to become a force expert!</p>
                </div>
                <div class="question-prompt">
                    Push your pencil across your desk. Now push it harder.
                </div>
                
                <div class="image-placeholder" id="slide1-image" data-slide="1">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Pushing a Pencil</span>
                        <span class="placeholder-hint">Hand pushing pencil with different forces</span>
                    </div>

                    <!-- Drag hint overlay -->
                    <div class="drag-hint-overlay">
                        📁 Drop image here
                    </div>

                    <!-- Image Controls -->
                    <div class="image-controls">
                        <button class="image-control-btn" onclick="toggleMinimize('slide1-image')" title="Minimize/Maximize">📦</button>
                        <button class="image-control-btn" onclick="replaceImage('slide1-image')" title="Upload">📂</button>
                        <button class="image-control-btn" onclick="removeImage('slide1-image')" title="Remove">🗑️</button>
                    </div>

                    <!-- Upload Methods (shown on hover) -->
                    <div class="upload-methods">
                        <button class="upload-method-btn" onclick="selectImageForSlide('slide1-image')" title="Upload from computer">📁 Upload</button>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, 'What changed when you pushed harder?<br>• Speed?<br>• Distance?<br>• Effort needed?')">
                    <span class="reveal-text">Click to see what to observe →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '🤔 <strong>Think:</strong> What invisible thing made the pencil move?')">
                    <span class="reveal-text">The big question →</span>
                </div>
            </section>

            <!-- SLIDE 2: Today's Mission -->
            <section>
                <div class="topic-header">
                    <h1>🎯 TODAY'S MISSION</h1>
                    <h2>Master the Power of Forces</h2>
                </div>
                
                <div class="image-placeholder" id="slide2-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Force Learning Path</span>
                        <span class="placeholder-hint">Visual roadmap of topics</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, 'By the end of today, you will:')">
                    <span class="reveal-text">Your goals →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '✅ Understand what forces are')">
                    <span class="reveal-text">Goal 1 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '✅ Master Newton\'s Second Law')">
                    <span class="reveal-text">Goal 2 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '✅ Calculate forces like a physicist!')">
                    <span class="reveal-text">Goal 3 →</span>
                </div>
            </section>

            <!-- SLIDE 3: What is Force? -->
            <section>
                <h2>What is a Force?</h2>
                <div class="definition-box">
                    <strong>Force:</strong> A push or pull on an object
                </div>
                
                <div class="image-placeholder" id="slide3-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Force Examples</span>
                        <span class="placeholder-hint">Various push/pull examples</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '💪 Push: Opening a door')">
                    <span class="reveal-text">Example 1 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '🧲 Pull: Gravity on a falling apple')">
                    <span class="reveal-text">Example 2 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, 'Forces can change: speed, direction, or shape!')">
                    <span class="reveal-text">What forces do →</span>
                </div>
            </section>

            <!-- SLIDE 4: Forces are Vectors -->
            <section>
                <h2>Forces Have Direction!</h2>
                
                <div class="image-placeholder" id="slide4-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Force Vectors</span>
                        <span class="placeholder-hint">Arrows showing force direction and magnitude</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, 'Forces are VECTORS - they have:')">
                    <span class="reveal-text">Key concept →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '📏 <strong>Magnitude:</strong> How strong (the number)')">
                    <span class="reveal-text">Part 1 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '➡️ <strong>Direction:</strong> Which way it points')">
                    <span class="reveal-text">Part 2 →</span>
                </div>
                <div class="force-arrow">→</div>
                <div class="click-reveal" onclick="revealContent(this, 'Bigger arrow = Stronger force!')">
                    <span class="reveal-text">Visual rule →</span>
                </div>
            </section>

            <!-- SLIDE 5: Units of Force -->
            <section>
                <h2>How Do We Measure Force?</h2>
                
                <div class="equation-box">
                    Force Unit = Newton (N)
                </div>
                
                <div class="image-placeholder" id="slide5-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Newton Portrait</span>
                        <span class="placeholder-hint">Sir Isaac Newton and apple</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '🍎 Named after Sir Isaac Newton')">
                    <span class="reveal-text">Fun fact →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '1 Newton = Force to accelerate 1 kg by 1 m/s²')">
                    <span class="reveal-text">Definition →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '🍎 An apple weighs about 1 Newton!')">
                    <span class="reveal-text">Real-world reference →</span>
                </div>
            </section>

            <!-- SLIDE 6: Types of Forces -->
            <section>
                <h2>Common Forces Around Us</h2>
                
                <div class="image-placeholder" id="slide6-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Types of Forces</span>
                        <span class="placeholder-hint">Gravity, friction, normal, tension illustrated</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '🌍 <strong>Gravity:</strong> Pulls everything down (9.8 m/s² on Earth)')">
                    <span class="reveal-text">Force 1 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '👟 <strong>Friction:</strong> Opposes motion between surfaces')">
                    <span class="reveal-text">Force 2 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '📚 <strong>Normal:</strong> Surface pushing back (perpendicular)')">
                    <span class="reveal-text">Force 3 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '🎯 <strong>Applied:</strong> Any push or pull you add')">
                    <span class="reveal-text">Force 4 →</span>
                </div>
            </section>

            <!-- SLIDE 7: Newton's Second Law Introduction -->
            <section>
                <div class="topic-header">
                    <h1>⚡ NEWTON'S SECOND LAW</h1>
                    <p>The most important equation in physics!</p>
                </div>
                
                <div class="equation-box">
                    F = ma
                </div>
                
                <div class="image-placeholder" id="slide7-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: F=ma Visual</span>
                        <span class="placeholder-hint">Force, mass, acceleration relationship</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, 'This ONE equation explains almost all motion!')">
                    <span class="reveal-text">Why it matters →</span>
                </div>
            </section>

            <!-- SLIDE 8: Breaking Down F=ma -->
            <section>
                <h2>Understanding F = ma</h2>
                
                <div class="formula-breakdown">
                    <div class="formula-part">
                        <strong>F</strong> = Force (measured in Newtons, N)
                    </div>
                    <div class="formula-part">
                        <strong>m</strong> = mass (measured in kilograms, kg)
                    </div>
                    <div class="formula-part">
                        <strong>a</strong> = acceleration (measured in m/s²)
                    </div>
                </div>
                
                <div class="image-placeholder" id="slide8-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Variables Diagram</span>
                        <span class="placeholder-hint">Visual showing F, m, and a relationship</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '⬆️ More force = More acceleration')">
                    <span class="reveal-text">Relationship 1 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '⬆️ More mass = Less acceleration (for same force)')">
                    <span class="reveal-text">Relationship 2 →</span>
                </div>
            </section>

            <!-- SLIDE 9: Real-World Example -->
            <section>
                <h2>F = ma in Action</h2>
                
                <div class="question-prompt">
                    Why is it harder to push a car than a shopping cart?
                </div>
                
                <div class="image-placeholder" id="slide9-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Car vs Shopping Cart</span>
                        <span class="placeholder-hint">Person pushing both objects</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '🚗 Car: Large mass (m) → needs MORE force (F)')">
                    <span class="reveal-text">Car analysis →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '🛒 Cart: Small mass (m) → needs LESS force (F)')">
                    <span class="reveal-text">Cart analysis →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, 'Same acceleration (a) requires F proportional to m!')">
                    <span class="reveal-text">The connection →</span>
                </div>
            </section>

            <!-- SLIDE 10: First Calculation -->
            <section>
                <h2>Let's Calculate!</h2>
                
                <div class="practice-problem">
                    <span class="problem-number">Problem 1</span>
                    <p>A 5 kg box is pushed with 20 N of force. Find the acceleration.</p>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '<strong>Given:</strong> F = 20 N, m = 5 kg')">
                    <span class="reveal-text">Step 1: Identify →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '<strong>Formula:</strong> F = ma → a = F/m')">
                    <span class="reveal-text">Step 2: Rearrange →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '<strong>Calculate:</strong> a = 20 N ÷ 5 kg = 4 m/s²')">
                    <span class="reveal-text">Step 3: Solve →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '✅ The box accelerates at <span class=\"unit-highlight\">4 m/s²</span>')">
                    <span class="reveal-text">Answer →</span>
                </div>
            </section>

            <!-- SLIDE 11: Quick Check -->
            <section>
                <h2>Quick Check #1</h2>
                <div class="question-prompt">
                    If you DOUBLE the force on an object, what happens to acceleration?
                </div>
                
                <div class="image-placeholder" id="slide11-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Force Doubling</span>
                        <span class="placeholder-hint">Visual showing F→2F effect</span>
                    </div>
                </div>
                
                <div class="answer-choice" onclick="markAnswer(this, false)">Stays the same</div>
                <div class="answer-choice" onclick="markAnswer(this, true)">Doubles</div>
                <div class="answer-choice" onclick="markAnswer(this, false)">Halves</div>
                <div class="answer-choice" onclick="markAnswer(this, false)">Quadruples</div>
                
                <div class="click-reveal" onclick="revealContent(this, 'F = ma, so if F doubles and m stays same, a must double!')">
                    <span class="reveal-text">Explanation →</span>
                </div>
            </section>

            <!-- SLIDE 12: Finding Force -->
            <section>
                <h2>Finding Force</h2>
                
                <div class="practice-problem">
                    <span class="problem-number">Problem 2</span>
                    <p>A 2 kg ball accelerates at 3 m/s². What force was applied?</p>
                </div>
                
                <div class="calculation-step">Given: m = 2 kg, a = 3 m/s²</div>
                <div class="calculation-step">Formula: F = ma</div>
                <div class="calculation-step">F = 2 kg × 3 m/s²</div>
                <div class="calculation-step">F = 6 N</div>
                
                <div class="transition-box">
                    Notice: Units multiply too! kg × m/s² = N
                </div>
            </section>

            <!-- SLIDE 13: Finding Mass -->
            <section>
                <h2>Finding Mass</h2>
                
                <div class="practice-problem">
                    <span class="problem-number">Problem 3</span>
                    <p>A 15 N force causes 5 m/s² acceleration. What's the mass?</p>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '<strong>Given:</strong> F = 15 N, a = 5 m/s²')">
                    <span class="reveal-text">Identify →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '<strong>Rearrange:</strong> m = F/a')">
                    <span class="reveal-text">Formula →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '<strong>Calculate:</strong> m = 15 N ÷ 5 m/s² = 3 kg')">
                    <span class="reveal-text">Solve →</span>
                </div>
                
                <div class="equation-box">
                    m = 3 kg
                </div>
            </section>

            <!-- SLIDE 14: Weight vs Mass -->
            <section>
                <h2>Weight is a Force!</h2>
                
                <div class="definition-box">
                    <strong>Weight:</strong> The force of gravity on an object<br>
                    W = mg (where g = 9.8 m/s² on Earth)
                </div>
                
                <div class="image-placeholder" id="slide14-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Weight vs Mass</span>
                        <span class="placeholder-hint">Scale showing weight, mass comparison</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '⚖️ Mass = amount of matter (kg) - SAME everywhere')">
                    <span class="reveal-text">Mass →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '🌍 Weight = force of gravity (N) - CHANGES by location')">
                    <span class="reveal-text">Weight →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '🌙 On the Moon: Same mass, 1/6 the weight!')">
                    <span class="reveal-text">Example →</span>
                </div>
            </section>

            <!-- SLIDE 15: Weight Calculation -->
            <section>
                <h2>Calculate Your Weight in Newtons!</h2>
                
                <div class="practice-problem">
                    <span class="problem-number">Problem 4</span>
                    <p>A student has a mass of 50 kg. What is their weight on Earth?</p>
                </div>
                
                <div class="calculation-step">Given: m = 50 kg, g = 9.8 m/s²</div>
                <div class="calculation-step">Formula: W = mg</div>
                <div class="calculation-step">W = 50 kg × 9.8 m/s²</div>
                <div class="calculation-step">W = 490 N</div>
                
                <div class="click-reveal" onclick="revealContent(this, '📊 Quick trick: Your weight in N ≈ Your mass in kg × 10')">
                    <span class="reveal-text">Helpful tip →</span>
                </div>
            </section>

            <!-- SLIDE 16: Net Force -->
            <section>
                <h2>Net Force: Forces Add Up!</h2>
                
                <div class="image-placeholder" id="slide16-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Multiple Forces</span>
                        <span class="placeholder-hint">Box with forces from different directions</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, 'Same direction: ADD forces →→ = stronger')">
                    <span class="reveal-text">Rule 1 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, 'Opposite direction: SUBTRACT ←→ = weaker')">
                    <span class="reveal-text">Rule 2 →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, 'Net Force = Total of all forces = What actually moves object')">
                    <span class="reveal-text">Definition →</span>
                </div>
            </section>

            <!-- SLIDE 17: Net Force Example -->
            <section>
                <h2>Tug of War!</h2>
                
                <div class="practice-problem">
                    <span class="problem-number">Problem 5</span>
                    <p>Team A pulls with 100 N right. Team B pulls with 80 N left. What's the net force?</p>
                </div>
                
                <div class="image-placeholder" id="slide17-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Tug of War</span>
                        <span class="placeholder-hint">Two teams pulling rope</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, 'Right: +100 N, Left: -80 N')">
                    <span class="reveal-text">Set directions →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, 'Net = 100 N + (-80 N) = 20 N right')">
                    <span class="reveal-text">Calculate →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '✅ Team A wins! Rope moves right with 20 N')">
                    <span class="reveal-text">Result →</span>
                </div>
            </section>

            <!-- SLIDE 18: Complex Problem -->
            <section>
                <h2>Challenge Problem!</h2>
                
                <div class="practice-problem">
                    <span class="problem-number">Problem 6</span>
                    <p>A 10 kg box on a frictionless surface has:<br>
                    • 50 N pushing right<br>
                    • 20 N pushing left<br>
                    Find the acceleration.</p>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '<strong>Step 1:</strong> Find net force = 50 N - 20 N = 30 N right')">
                    <span class="reveal-text">Net force →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '<strong>Step 2:</strong> Use F = ma → a = F/m')">
                    <span class="reveal-text">Formula →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '<strong>Step 3:</strong> a = 30 N ÷ 10 kg = 3 m/s²')">
                    <span class="reveal-text">Calculate →</span>
                </div>
            </section>

            <!-- SLIDE 19: Quick Check #2 -->
            <section>
                <h2>Quick Check #2</h2>
                <div class="question-prompt">
                    A car (1000 kg) and a bike (10 kg) both accelerate at 2 m/s². Which needs more force?
                </div>
                
                <div class="answer-choice" onclick="markAnswer(this, false)">The bike</div>
                <div class="answer-choice" onclick="markAnswer(this, true)">The car</div>
                <div class="answer-choice" onclick="markAnswer(this, false)">Same force</div>
                <div class="answer-choice" onclick="markAnswer(this, false)">Can't tell</div>
                
                <div class="click-reveal" onclick="revealContent(this, 'Car: F = 1000 kg × 2 m/s² = 2000 N<br>Bike: F = 10 kg × 2 m/s² = 20 N')">
                    <span class="reveal-text">Calculations →</span>
                </div>
            </section>

            <!-- SLIDE 20: Force in Everyday Life -->
            <section>
                <h2>Forces in Your Daily Life</h2>
                
                <div class="image-placeholder" id="slide20-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Daily Forces</span>
                        <span class="placeholder-hint">Sports, walking, driving examples</span>
                    </div>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '⚽ Kicking a ball: Your foot applies force')">
                    <span class="reveal-text">Sports →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '🚶 Walking: Friction force moves you forward')">
                    <span class="reveal-text">Movement →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '🚗 Car braking: Friction force slows you down')">
                    <span class="reveal-text">Safety →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, '📱 Phone falling: Gravity pulls it down at 9.8 m/s²')">
                    <span class="reveal-text">Technology →</span>
                </div>
            </section>

            <!-- SLIDE 21: Keywords Summary -->
            <section>
                <div class="keyword-box">
                    <h2>📝 KEY VOCABULARY</h2>
                    <div class="keyword-item">
                        <span class="keyword-term">Force (F):</span> Push or pull measured in Newtons (N)
                    </div>
                    <div class="keyword-item">
                        <span class="keyword-term">Mass (m):</span> Amount of matter in kg
                    </div>
                    <div class="keyword-item">
                        <span class="keyword-term">Acceleration (a):</span> Change in velocity (m/s²)
                    </div>
                    <div class="keyword-item">
                        <span class="keyword-term">Newton's 2nd Law:</span> F = ma
                    </div>
                    <div class="keyword-item">
                        <span class="keyword-term">Weight:</span> Force of gravity (W = mg)
                    </div>
                    <div class="keyword-item">
                        <span class="keyword-term">Net Force:</span> Total of all forces
                    </div>
                </div>
            </section>

            <!-- SLIDE 22: Problem-Solving Strategy -->
            <section>
                <h2>🎯 Force Problem Strategy</h2>
                
                <div class="formula-breakdown">
                    <h3>The 5-Step Method:</h3>
                    <div class="formula-part">1️⃣ <strong>READ:</strong> What's given? What's asked?</div>
                    <div class="formula-part">2️⃣ <strong>DRAW:</strong> Sketch the situation</div>
                    <div class="formula-part">3️⃣ <strong>LIST:</strong> Known values with units</div>
                    <div class="formula-part">4️⃣ <strong>FORMULA:</strong> Choose F=ma or rearrange</div>
                    <div class="formula-part">5️⃣ <strong>SOLVE:</strong> Calculate with units</div>
                </div>
                
                <div class="transition-box">
                    Master this method = Master force problems!
                </div>
            </section>

            <!-- SLIDE 23: Exit Ticket -->
            <section>
                <h2>🎫 EXIT TICKET</h2>
                <div class="practice-problem">
                    <p><strong>Solve this problem in your notebook:</strong></p>
                    <p>A 4 kg skateboard is pushed with a force of 12 N.</p>
                    <p>a) What is its acceleration?</p>
                    <p>b) If friction provides 2 N of resistance, what is the net force?</p>
                    <p>c) What is the new acceleration with friction?</p>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, 'a) a = F/m = 12N/4kg = 3 m/s²')">
                    <span class="reveal-text">Answer a →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, 'b) Net F = 12N - 2N = 10N')">
                    <span class="reveal-text">Answer b →</span>
                </div>
                <div class="click-reveal" onclick="revealContent(this, 'c) a = 10N/4kg = 2.5 m/s²')">
                    <span class="reveal-text">Answer c →</span>
                </div>
            </section>

            <!-- SLIDE 24: Summary -->
            <section>
                <h2>🌟 What You Mastered Today!</h2>
                
                <div class="progress-tracker">
                    <div class="topic-complete">✅ Force = Push or Pull</div>
                    <div class="topic-complete">✅ Newton's Second Law: F = ma</div>
                    <div class="topic-complete">✅ Weight = mg</div>
                    <div class="topic-complete">✅ Net Force Calculations</div>
                    <div class="topic-complete">✅ Problem-Solving Method</div>
                </div>
                
                <div class="equation-box">
                    Remember: F = ma
                </div>
                
                <div class="transition-box">
                    You're now a Force Calculation Expert! 🎉
                </div>
            </section>

            <!-- SLIDE 25: Homework & Next Lesson -->
            <section>
                <div class="topic-header">
                    <h1>🎉 EXCELLENT WORK!</h1>
                    <h2>You've Mastered Forces!</h2>
                </div>
                
                <div class="definition-box">
                    <p><strong>📚 Homework:</strong></p>
                    <ol style="text-align: left;">
                        <li>Complete practice problems 1-10 in your workbook</li>
                        <li>Find 3 examples of forces in your home</li>
                        <li>Calculate the weight of 3 objects (estimate mass)</li>
                    </ol>
                </div>
                
                <div class="click-reveal" onclick="revealContent(this, '🔮 <strong>Next Lesson:</strong> Energy and Work!')">
                    <span class="reveal-text">Coming up →</span>
                </div>
                
                <div class="image-placeholder" id="slide25-image">
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">Image: Celebration</span>
                        <span class="placeholder-hint">Success/achievement graphic</span>
                    </div>
                </div>
            </section>

        </div>
    </div>

    <!-- Fixed UI Elements -->
    <div class="step-number">
        <span id="slideNumber">1</span> / 25
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.js"></script>
    <script>
        // Initialize Reveal.js
        Reveal.initialize({
            hash: true,
            controls: true,
            progress: true,
            center: false,
            transition: 'slide',
            width: '100%',
            height: '100%',
            margin: 0.02,
            minScale: 0.5,
            maxScale: 2.0,
            overview: true,
            touch: true,
            loop: false,
            rtl: false,
            navigationMode: 'default',
            shuffle: false,
            fragments: true,
            embedded: false,
            help: true,
            showNotes: false,
            autoAnimate: false,
            autoSlide: 0,
            mouseWheel: false,
            hideInactiveCursor: true,
            hideCursorTime: 5000,
            previewLinks: false,
            focusBodyOnPageVisibilityChange: true,
            transitionSpeed: 'default',
            backgroundTransition: 'fade',
            viewDistance: 3,
            mobileViewDistance: 2,
            display: 'block'
        });

        // Update slide number and handle scrolling
        Reveal.on('slidechanged', event => {
            document.getElementById('slideNumber').textContent = event.indexh + 1;
            const currentSlide = Reveal.getCurrentSlide();
            if (currentSlide) {
                currentSlide.scrollTop = 0;
            }
        });

        // Enable smooth scrolling within slides
        Reveal.on('ready', event => {
            const slides = document.querySelectorAll('.reveal .slides section');
            slides.forEach(slide => {
                slide.style.scrollBehavior = 'smooth';
            });
        });

        // Custom mouse wheel handling for slide scrolling
        document.addEventListener('wheel', function(e) {
            const currentSlide = Reveal.getCurrentSlide();
            if (currentSlide) {
                if (e.target.closest('.image-manager')) {
                    return;
                }
                currentSlide.scrollBy(0, e.deltaY * 0.5);
                e.preventDefault();
            }
        }, { passive: false });

        // Function to reveal content on click
        function revealContent(element, content) {
            if (!element.classList.contains('revealed')) {
                element.innerHTML = content;
                element.classList.add('revealed');
            }
        }

        // Function to mark answers
        function markAnswer(element, isCorrect) {
            const siblings = element.parentNode.querySelectorAll('.answer-choice');
            siblings.forEach(sib => {
                sib.classList.remove('correct', 'incorrect');
                sib.onclick = null;
            });

            if (isCorrect) {
                element.classList.add('correct');
                element.innerHTML += ' ✔';
            } else {
                element.classList.add('incorrect');
                element.innerHTML += ' ✗';
            }
        }

        // ===========================
        // IMAGE MANAGEMENT SYSTEM
        // ===========================

        let imageData = {};
        let isImageManagerOpen = false;

        // Initialize image management system
        window.addEventListener('DOMContentLoaded', function() {
            loadImagesFromStorage();
            setupImagePlaceholders();
            updateSlideList();
            updateProgress();
            enhanceAllImagePlaceholders();
            loadMinimizedStates();
        });

        // Toggle image manager panel
        function toggleImageManager() {
            const manager = document.getElementById('imageManager');
            isImageManagerOpen = !isImageManagerOpen;

            if (isImageManagerOpen) {
                manager.classList.add('open');
                updateSlideList();
            } else {
                manager.classList.remove('open');
            }
        }

        // Setup drag and drop for all image placeholders
        function setupImagePlaceholders() {
            const placeholders = document.querySelectorAll('.image-placeholder');

            placeholders.forEach(placeholder => {
                const slideId = placeholder.id;
                const slideNum = placeholder.dataset.slide || slideId.match(/\d+/)?.[0] || '';
                const dragHintOverlay = placeholder.querySelector('.drag-hint-overlay');

                if (!placeholder.dataset.slide && slideNum) {
                    placeholder.dataset.slide = slideNum;
                }

                // Drag and drop events
                placeholder.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    placeholder.classList.add('drag-over');
                    if (dragHintOverlay) dragHintOverlay.style.display = 'flex';
                });

                placeholder.addEventListener('dragenter', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    placeholder.classList.add('drag-over');
                    if (dragHintOverlay) dragHintOverlay.style.display = 'flex';
                });

                placeholder.addEventListener('dragleave', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    if (!placeholder.contains(e.relatedTarget)) {
                        placeholder.classList.remove('drag-over');
                        if (dragHintOverlay) dragHintOverlay.style.display = 'none';
                    }
                });

                placeholder.addEventListener('drop', (e) => {
                    e.preventDefault();
                    e.stopPropagation();

                    placeholder.classList.remove('drag-over');
                    if (dragHintOverlay) dragHintOverlay.style.display = 'none';

                    const files = e.dataTransfer.files;
                    const htmlData = e.dataTransfer.getData('text/html');
                    const urlData = e.dataTransfer.getData('text/uri-list') || e.dataTransfer.getData('URL');
                    const textData = e.dataTransfer.getData('text/plain');

                    if (files && files.length > 0) {
                        const file = files[0];
                        if (file.type.startsWith('image/')) {
                            loadImageToSlide(file, slideId);
                            showDropFeedback(placeholder, '✅ Image uploaded!', '#4CAF50');
                        } else {
                            showDropFeedback(placeholder, '❌ Please drop an image file', '#f44336');
                        }
                    } else if (htmlData) {
                        const imgMatch = htmlData.match(/<img[^>]+src=["']([^"']+)["'][^>]*>/i);
                        if (imgMatch && imgMatch[1]) {
                            loadImageFromURL(imgMatch[1], slideId);
                            showDropFeedback(placeholder, '✅ Image from web loaded!', '#4CAF50');
                        }
                    } else if (urlData && (urlData.match(/\.(jpg|jpeg|png|gif|webp|svg)$/i) || urlData.includes('unsplash') || urlData.includes('pexels'))) {
                        loadImageFromURL(urlData, slideId);
                        showDropFeedback(placeholder, '✅ Image from URL loaded!', '#4CAF50');
                    } else if (textData && textData.match(/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp|svg)$/i)) {
                        loadImageFromURL(textData, slideId);
                        showDropFeedback(placeholder, '✅ Image from URL loaded!', '#4CAF50');
                    } else {
                        showDropFeedback(placeholder, '❌ Please drop an image file or image from another tab', '#f44336');
                    }
                });

                // Click to upload (only if no image)
                placeholder.addEventListener('click', function(e) {
                    if (e.target.closest('.image-control-btn, .upload-method-btn')) {
                        return;
                    }
                    if (!this.classList.contains('has-image')) {
                        selectImageForSlide(slideId);
                    }
                });

                // Double-click to expand minimized placeholder
                placeholder.addEventListener('dblclick', function(e) {
                    if (this.classList.contains('minimized')) {
                        toggleMinimize(slideId);
                    }
                });
            });
        }

        // Show feedback after drag and drop
        function showDropFeedback(placeholder, message, color) {
            const feedback = document.createElement('div');
            feedback.style.cssText = `
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: ${color};
                color: white;
                padding: 10px 20px;
                border-radius: 20px;
                font-weight: bold;
                z-index: 1000;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.3s;
            `;
            feedback.textContent = message;
            placeholder.appendChild(feedback);

            setTimeout(() => feedback.style.opacity = '1', 10);

            setTimeout(() => {
                feedback.style.opacity = '0';
                setTimeout(() => {
                    if (feedback.parentNode) {
                        feedback.parentNode.removeChild(feedback);
                    }
                }, 300);
            }, 2000);
        }

        // Load image from URL
        function loadImageFromURL(imageUrl, slideId) {
            const img = new Image();
            img.crossOrigin = 'anonymous';

            img.onload = function() {
                try {
                    const canvas = document.createElement('canvas');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0);
                    const dataUrl = canvas.toDataURL('image/jpeg', 0.8);

                    setSlideImage(slideId, dataUrl, 'web-image.jpg');
                    saveImageToStorage(slideId, dataUrl, 'web-image.jpg');
                } catch (e) {
                    setSlideImage(slideId, imageUrl, 'web-image.jpg');
                    saveImageToStorage(slideId, imageUrl, 'web-image.jpg');
                }

                updateSlideList();
                updateProgress();
            };

            img.onerror = function() {
                setSlideImage(slideId, imageUrl, 'web-image.jpg');
                saveImageToStorage(slideId, imageUrl, 'web-image.jpg');
                updateSlideList();
                updateProgress();
            };

            img.src = imageUrl;
        }

        // Load image to specific slide
        function loadImageToSlide(file, slideId) {
            const reader = new FileReader();
            reader.onload = function(event) {
                const imageData = event.target.result;
                setSlideImage(slideId, imageData, file.name);
                saveImageToStorage(slideId, imageData, file.name);
                updateSlideList();
                updateProgress();
            };
            reader.readAsDataURL(file);
        }

        // Set image for slide
        function setSlideImage(slideId, imageData, filename = '') {
            const placeholder = document.getElementById(slideId);
            if (placeholder) {
                const wasMinimized = placeholder.classList.contains('minimized');
                
                placeholder.innerHTML = `
                    <img src="${imageData}" alt="Slide image: ${filename}">
                    <div class="image-controls">
                        <button class="image-control-btn" onclick="toggleMinimize('${slideId}')" title="${wasMinimized ? 'Expand' : 'Minimize'}">${wasMinimized ? '📤' : '📦'}</button>
                        <button class="image-control-btn" onclick="replaceImage('${slideId}')" title="Replace">🔄</button>
                        <button class="image-control-btn" onclick="removeImage('${slideId}')" title="Remove">🗑️</button>
                    </div>
                `;
                placeholder.classList.add('has-image');
                
                if (wasMinimized) {
                    placeholder.classList.add('minimized');
                }
            }
        }

        // Replace image
        function replaceImage(slideId) {
            selectImageForSlide(slideId);
        }

        // Remove image
        function removeImage(slideId) {
            const placeholder = document.getElementById(slideId);
            if (placeholder) {
                const wasMinimized = placeholder.classList.contains('minimized');
                const originalHint = getOriginalHint(slideId);
                
                placeholder.innerHTML = `
                    <div class="placeholder-content">
                        <span class="placeholder-icon">🖼️</span>
                        <span class="placeholder-text">${originalHint.text}</span>
                        <span class="placeholder-hint">${originalHint.hint}</span>
                    </div>

                    <div class="drag-hint-overlay">
                        📁 Drop image here
                    </div>

                    <div class="image-controls">
                        <button class="image-control-btn" onclick="toggleMinimize('${slideId}')" title="${wasMinimized ? 'Expand' : 'Minimize'}">${wasMinimized ? '📤' : '📦'}</button>
                        <button class="image-control-btn" onclick="replaceImage('${slideId}')" title="Upload">📂</button>
                        <button class="image-control-btn" onclick="removeImage('${slideId}')" title="Remove">🗑️</button>
                    </div>

                    <div class="upload-methods">
                        <button class="upload-method-btn" onclick="selectImageForSlide('${slideId}')" title="Upload from computer">📁 Upload</button>
                    </div>
                `;
                placeholder.classList.remove('has-image');
                
                if (wasMinimized) {
                    placeholder.classList.add('minimized');
                }

                setupSinglePlaceholder(placeholder);
                removeImageFromStorage(slideId);
                updateSlideList();
                updateProgress();
            }
        }

        // Get original placeholder hint
        function getOriginalHint(slideId) {
            const hints = {
                'slide1-image': { text: 'Image: Pushing a Pencil', hint: 'Hand pushing pencil with different forces' },
                'slide2-image': { text: 'Image: Force Learning Path', hint: 'Visual roadmap of topics' },
                'slide3-image': { text: 'Image: Force Examples', hint: 'Various push/pull examples' },
                'slide4-image': { text: 'Image: Force Vectors', hint: 'Arrows showing force direction and magnitude' },
                'slide5-image': { text: 'Image: Newton Portrait', hint: 'Sir Isaac Newton and apple' },
                'slide6-image': { text: 'Image: Types of Forces', hint: 'Gravity, friction, normal, tension illustrated' },
                'slide7-image': { text: 'Image: F=ma Visual', hint: 'Force, mass, acceleration relationship' },
                'slide8-image': { text: 'Image: Variables Diagram', hint: 'Visual showing F, m, and a relationship' },
                'slide9-image': { text: 'Image: Car vs Shopping Cart', hint: 'Person pushing both objects' },
                'slide11-image': { text: 'Image: Force Doubling', hint: 'Visual showing F→2F effect' },
                'slide14-image': { text: 'Image: Weight vs Mass', hint: 'Scale showing weight, mass comparison' },
                'slide16-image': { text: 'Image: Multiple Forces', hint: 'Box with forces from different directions' },
                'slide17-image': { text: 'Image: Tug of War', hint: 'Two teams pulling rope' },
                'slide20-image': { text: 'Image: Daily Forces', hint: 'Sports, walking, driving examples' },
                'slide25-image': { text: 'Image: Celebration', hint: 'Success/achievement graphic' }
            };
            return hints[slideId] || { text: 'Image Placeholder', hint: 'Add your image here' };
        }

        // Select image for specific slide
        function selectImageForSlide(slideId) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    loadImageToSlide(file, slideId);
                }
            };
            input.click();
        }

        // Bulk upload images
        function bulkUpload() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.multiple = true;
            input.onchange = function(e) {
                const files = Array.from(e.target.files);
                if (files.length > 0) {
                    processBulkUpload(files);
                }
            };
            input.click();
        }

        // Process bulk upload
        function processBulkUpload(files) {
            const placeholders = document.querySelectorAll('.image-placeholder:not(.has-image)');

            files.forEach((file, index) => {
                if (index < placeholders.length) {
                    const slideId = placeholders[index].id;
                    loadImageToSlide(file, slideId);
                }
            });

            if (files.length > placeholders.length) {
                alert(`Uploaded ${placeholders.length} images. ${files.length - placeholders.length} files skipped (no empty slides).`);
            }
        }

        // Update slide list in manager
        function updateSlideList() {
            const slideList = document.getElementById('slideList');
            const placeholders = document.querySelectorAll('.image-placeholder');

            slideList.innerHTML = '';

            placeholders.forEach(placeholder => {
                const slideId = placeholder.id;
                const slideNum = placeholder.dataset.slide || slideId.match(/\d+/)?.[0] || '';
                const hasImage = placeholder.classList.contains('has-image');
                const hint = getOriginalHint(slideId);

                const item = document.createElement('div');
                item.className = `slide-item ${hasImage ? 'has-image' : 'no-image'}`;
                item.innerHTML = `
                    <div class="slide-status ${hasImage ? 'has-image' : 'no-image'}"></div>
                    <div>
                        <div>Slide ${slideNum}</div>
                        <small>${hint.text}</small>
                    </div>
                `;

                item.addEventListener('click', () => {
                    if (hasImage) {
                        Reveal.slide(parseInt(slideNum) - 1);
                    } else {
                        selectImageForSlide(slideId);
                    }
                });

                slideList.appendChild(item);
            });
        }

        // Update progress bar
        function updateProgress() {
            const placeholders = document.querySelectorAll('.image-placeholder');
            const withImages = document.querySelectorAll('.image-placeholder.has-image');
            const percentage = (withImages.length / placeholders.length) * 100;

            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = percentage + '%';
            progressFill.textContent = `${withImages.length}/${placeholders.length}`;
        }

        // Local storage functions
        function saveImageToStorage(slideId, imageData, filename) {
            const stored = JSON.parse(localStorage.getItem('forceImages') || '{}');
            stored[slideId] = { data: imageData, filename: filename };
            localStorage.setItem('forceImages', JSON.stringify(stored));
        }

        function loadImagesFromStorage() {
            const stored = JSON.parse(localStorage.getItem('forceImages') || '{}');
            Object.keys(stored).forEach(slideId => {
                const { data, filename } = stored[slideId];
                setSlideImage(slideId, data, filename);
            });
        }

        function removeImageFromStorage(slideId) {
            const stored = JSON.parse(localStorage.getItem('forceImages') || '{}');
            delete stored[slideId];
            localStorage.setItem('forceImages', JSON.stringify(stored));
        }

        // Export images
        function exportImages() {
            const stored = localStorage.getItem('forceImages');
            if (stored) {
                const blob = new Blob([stored], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'force-lesson-images.json';
                a.click();
                URL.revokeObjectURL(url);
            } else {
                alert('No images to export!');
            }
        }

        // Import images
        function importImages() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        try {
                            const importedData = JSON.parse(event.target.result);
                            localStorage.setItem('forceImages', JSON.stringify(importedData));

                            clearAllImages(false);
                            loadImagesFromStorage();
                            updateSlideList();
                            updateProgress();

                            alert('Images imported successfully!');
                        } catch (error) {
                            alert('Error importing images: Invalid file format');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }

        // Clear all images
        function clearAllImages(confirm = true) {
            if (confirm && !window.confirm('Are you sure you want to remove all images?')) {
                return;
            }

            const placeholders = document.querySelectorAll('.image-placeholder');
            placeholders.forEach(placeholder => {
                if (placeholder.classList.contains('has-image')) {
                    removeImage(placeholder.id);
                }
            });

            localStorage.removeItem('forceImages');
            updateSlideList();
            updateProgress();
        }

        // Toggle minimize/maximize
        function toggleMinimize(slideId) {
            const placeholder = document.getElementById(slideId);
            if (placeholder) {
                const wasMinimized = placeholder.classList.contains('minimized');
                placeholder.classList.toggle('minimized');

                const minimizedState = JSON.parse(localStorage.getItem('minimizedPlaceholders') || '{}');
                minimizedState[slideId] = placeholder.classList.contains('minimized');
                localStorage.setItem('minimizedPlaceholders', JSON.stringify(minimizedState));

                const minimizeBtn = placeholder.querySelector('[onclick*="toggleMinimize"]');
                if (minimizeBtn) {
                    if (placeholder.classList.contains('minimized')) {
                        minimizeBtn.textContent = '📤';
                        minimizeBtn.title = 'Expand';
                    } else {
                        minimizeBtn.textContent = '📦';
                        minimizeBtn.title = 'Minimize';
                    }
                }

                const message = wasMinimized ? '📤 Expanded' : '📦 Minimized';
                showDropFeedback(placeholder, message, '#667eea');

                updateSlideList();
            }
        }

        // Setup single placeholder
        function setupSinglePlaceholder(placeholder) {
            setupImagePlaceholders();
        }

        // Load minimized states
        function loadMinimizedStates() {
            const minimizedState = JSON.parse(localStorage.getItem('minimizedPlaceholders') || '{}');
            Object.keys(minimizedState).forEach(slideId => {
                if (minimizedState[slideId]) {
                    const placeholder = document.getElementById(slideId);
                    if (placeholder) {
                        placeholder.classList.add('minimized');
                    }
                }
            });
        }

        // Enhance all basic image placeholders
        function enhanceAllImagePlaceholders() {
            const placeholders = document.querySelectorAll('.image-placeholder');

            placeholders.forEach(placeholder => {
                if (placeholder.querySelector('.drag-hint-overlay')) {
                    return;
                }

                const slideId = placeholder.id;
                const placeholderContent = placeholder.querySelector('.placeholder-content');

                if (placeholderContent) {
                    const dragHint = document.createElement('div');
                    dragHint.className = 'drag-hint-overlay';
                    dragHint.textContent = '📁 Drop image here';
                    placeholder.appendChild(dragHint);

                    const controls = document.createElement('div');
                    controls.className = 'image-controls';
                    controls.innerHTML = `
                        <button class="image-control-btn" onclick="toggleMinimize('${slideId}')" title="Minimize/Maximize">📦</button>
                        <button class="image-control-btn" onclick="replaceImage('${slideId}')" title="Upload">📂</button>
                        <button class="image-control-btn" onclick="removeImage('${slideId}')" title="Remove">🗑️</button>
                    `;
                    placeholder.appendChild(controls);

                    const uploadMethods = document.createElement('div');
                    uploadMethods.className = 'upload-methods';
                    uploadMethods.innerHTML = `
                        <button class="upload-method-btn" onclick="selectImageForSlide('${slideId}')" title="Upload from computer">📁 Upload</button>
                    `;
                    placeholder.appendChild(uploadMethods);
                }
            });

            setupImagePlaceholders();
        }
    </script>
</body>
</html>